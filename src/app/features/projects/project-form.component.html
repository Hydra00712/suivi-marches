<div class="page-header">
  <h1><span class="icon-box">âž•</span> Nouveau Projet</h1>
</div>

<form class="card" (ngSubmit)="submit()" style="max-width:720px;">
  <div class="form-group">
    <label>Titre du projet *</label>
    <input class="input" name="title" [(ngModel)]="title" required placeholder="Ex: Migration systÃ¨me informatique"/>
  </div>

  <div class="form-group">
    <label>Description</label>
    <textarea class="input" name="description" [(ngModel)]="description" rows="4" placeholder="DÃ©crivez le projet..."></textarea>
  </div>

  <div class="grid cols-3">
    <div class="form-group">
      <label>Budget (â‚¬)</label>
      <input class="input" type="number" name="budget" [(ngModel)]="budget" placeholder="10000"/>
    </div>
    <div class="form-group">
      <label>DurÃ©e (jours)</label>
      <input class="input" type="number" name="durationDays" [(ngModel)]="durationDays" placeholder="30"/>
    </div>
    <div class="form-group">
      <label>Date d'Ã©chÃ©ance</label>
      <input class="input" type="date" name="deadline" [(ngModel)]="deadline"/>
    </div>
  </div>

  <div class="form-group">
    <label>Cahier des Charges (CPS)</label>
    <div class="file-upload" [class.has-file]="cahierFile" (click)="fileInput.click()">
      <input #fileInput type="file" (change)="onFileSelected($event)" accept=".pdf,.doc,.docx,.xls,.xlsx"/>
      <div *ngIf="!cahierFile">
        <div class="upload-icon">ðŸ“„</div>
        <div class="upload-text">Cliquez pour ajouter un fichier (PDF, DOC, XLS)</div>
      </div>
      <div *ngIf="cahierFile" class="file-name">ðŸ“Ž {{ cahierFile.name }} ({{ formatSize(cahierFile.size) }})</div>
    </div>
  </div>

  <div style="display:flex;gap:.75rem;margin-top:1rem;">
    <button type="submit" class="btn primary" [disabled]="!title.trim()">CrÃ©er le projet</button>
    <a class="btn" [routerLink]="auth.isChef() ? '/chef/projects' : '/projects'">Annuler</a>
  </div>
</form>

