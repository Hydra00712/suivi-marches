<div *ngIf="list().length === 0" style="text-align:center;padding:2rem;color:#9ca3af;">
  <div style="font-size:2rem;margin-bottom:.5rem;">ğŸ“‹</div>
  <p>Aucune tÃ¢che pour ce projet</p>
</div>

<table class="table" *ngIf="list().length > 0">
  <thead>
    <tr>
      <th>TÃ¢che</th>
      <th>Ã‰chÃ©ance</th>
      <th>DurÃ©e</th>
      <th>Ã‰tat</th>
      <th style="text-align:right;">Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let t of list()">
      <td>
        <div style="font-weight:500;">{{ t.title }}</div>
        <div *ngIf="t.description" class="small" style="margin-top:.25rem;">{{ t.description }}</div>
      </td>
      <td>{{ t.finalDate | date:'dd MMM yyyy' }}</td>
      <td>{{ t.durationDays }} jours</td>
      <td>
        <span class="badge" [class]="'etat-' + t.state">
          {{ t.state === 'validee' ? 'âœ… ValidÃ©e' : t.state === 'en_cours' ? 'â³ En cours' : 'ğŸ“ Ã€ faire' }}
        </span>
        <div *ngIf="t.validatedBy.length > 0" class="small" style="margin-top:.25rem;">
          {{ t.validatedBy.length }} validation(s)
        </div>
      </td>
      <td>
        <div style="display:flex;gap:.4rem;justify-content:flex-end;">
          <button class="btn" (click)="setState(t, 'en_cours')" title="Marquer en cours">â³</button>
          <button class="btn success" (click)="validate(t)" title="Valider">âœ…</button>
          <button class="btn" (click)="markNotPertinent(t)" title="Non pertinent">ğŸš«</button>
          <button class="btn danger" (click)="remove(t)" title="Supprimer">ğŸ—‘ï¸</button>
        </div>
      </td>
    </tr>
  </tbody>
</table>

